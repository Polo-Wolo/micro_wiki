<!doctype html>
<html lang="fr">

<head>
  <meta charset="utf-8">
  <title>Flask</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
  <link rel="stylesheet" href="../assets/style.css">
</head>

<body class="has-navbar-fixed-top layout-root">

  <script src="../assets/script.js"></script>

  <!-- NAVBAR -->
  <nav class="navbar is-dark is-fixed-top" role="navigation">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
        üî• Micro Wiki
      </a>

      <a role="button" class="navbar-burger" data-target="navbarMenu" aria-label="menu" aria-expanded="false">
        <span></span>
        <span></span>
        <span></span>
      </a>
    </div>

    <div id="navbarMenu" class="navbar-menu">
      <div class="navbar-start">
        
        <a class="navbar-item" href="/tags">
          Tags
        </a>
        
        <a class="navbar-item" href="/portfolio">
          Portfolio
        </a>
        
      </div>

      <div class="navbar-end">
        <div class="navbar-item">
          <form action="/search" method="get">
            <div class="field has-addons">
              <div class="control">
                <input class="input is-small" type="search" name="q" placeholder="Rechercher‚Ä¶"
                  value="">
              </div>
              <div class="control">
                <button class="button is-small is-link">üîç</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </nav>

  <!-- CONTENT -->
  <section class="section main-content">
    <div class="container content">
      
<div class="columns is-centered mt-6">

  <!-- Contenu principal -->
  <div class="column page-content">
    
    <div class="tags mb-4">
      
      <a class="tag is-link is-light mr-2" href="/tags/python">python</a>
      
      <a class="tag is-link is-light mr-2" href="/tags/web">web</a>
      
      <a class="tag is-link is-light mr-2" href="/tags/server">server</a>
      
    </div>
    

    <div class="content">
      <h1>Flask</h1>
<p><a href="/page/stm32">STM32</a>
* <a href="https://flask.palletsprojects.com/">Documentation</a></p>
<p>Flask is a lightweight Python web framework used for building web applications quickly and easily. It provides a minimalistic and flexible approach to web development, and is often used for small to medium-sized web applications and prototypes.</p>
<p>Flask follows a microframework approach, meaning that it provides only the basic functionality needed for web development, such as request handling and routing, while leaving more advanced features to extensions and external libraries. This makes Flask highly customizable and extensible, and allows developers to choose the tools and libraries they want to use for a specific project.</p>
<p>Flask includes a built-in development server, as well as a variety of tools and libraries for handling common web development tasks, such as handling request and response data, working with cookies and sessions, and managing databases. It also includes a powerful templating engine that allows for easy creation of dynamic and responsive web pages.</p>
<p>Flask is a popular choice for web development in Python due to its simplicity, flexibility, and extensibility. It is often used for small to medium-sized web applications and prototypes, and can be easily scaled up as needed using extensions and external libraries.</p>
<h2>Installation</h2>
<p>Use the following command to install Flask:</p>
<pre><code class="language-bash">pip install Flask
</code></pre>
<h2>Getting Started</h2>
<p>Create a <code>my_flask_project</code> directory : </p>
<pre><code class="language-bash">mkdir my_flask_project
cd my_flask_project
</code></pre>
<h3>Basis Usage</h3>
<p>This <code>app.py</code> file will serve as a minimal example of how to handle HTTP requests. Inside it, you need to import the <a href="https://flask.palletsprojects.com/en/1.1.x/api/#flask.Flask">Flask object</a>, and create a function that returns an HTTP response.</p>
<p>::: code-group
```python [app.py]
from flask import Flask</p>
<p>app = Flask(<strong>name</strong>)</p>
<p>@app.route("/")
def hello_world():
    return "<p>Hello, World!</p>"</p>
<p>if <strong>name</strong> == '<strong>main</strong>':
    app.run(debug=True, host="127.0.0.1", port=5000)</p>
<pre><code>:::

Lastly, run the application using the flask `run` command in your terminal:

```bash
flask run
</code></pre>
<p>Open a browser and type in the URL <code>http://127.0.0.1:5000/</code>, you will see the string <code>Hello, World!</code> as a response, this confirms that your application is successfully running.</p>
<h3>Render HTML</h3>
<p>First create a <code>templates</code> directory that will contain all your <code>.html</code> files.</p>
<pre><code class="language-bash">mkdir templates
</code></pre>
<p>Write an empty <code>index.html</code> file in this folder. Your project tree should looks like this :</p>
<pre><code>my_flask_project/
‚îú‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îî‚îÄ‚îÄ app.py
</code></pre>
<p>Modify the <code>app.py</code> and <code>index.html</code> to take into account our changes.</p>
<p>::: code-group
```python [app.py]
from flask import Flask, render_template</p>
<p>app = Flask(<strong>name</strong>)</p>
<p>@app.route('/')
def index():
    return render_template('index.html')</p>
<p>...</p>
<pre><code>
```html [templates/index.html]
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;

&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Flask App&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;p&gt;Hello World from index.html&lt;/p&gt;
&lt;/body&gt;

&lt;/html&gt;
</code></pre>
<p>:::</p>
<p>The <code>index()</code> view function in the file <code>app.py</code> returns the result of calling <code>render_template()</code> with index.html as input argument, this tells <code>render_template()</code> to look for a file called <code>index.html</code> in the templates folder. The file will have a single view function that will be responsible for handling requests to the main <code>/</code> route.</p>
<p>By running your app with </p>
<pre><code class="language-bash">flask run # 127.0.0.1:5000
</code></pre>
<p>you should see the message <code>Hello World from index.html</code>.</p>
<h3>Using Static files</h3>
<p>After following the <a href="#using-html-templates">previous section</a>, create a <code>static</code> directory that will contain all your static files.</p>
<pre><code class="language-bash">mkdir static
</code></pre>
<p>For example, add a <code>.ico</code> as <a href="https://www.enib.fr/images/favicon.ico">this one</a> in the <code>static</code> directory. 
Your project tree should looks like this :</p>
<pre><code>my_flask_project/
‚îú‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îî‚îÄ‚îÄ favicon.ico
‚îî‚îÄ‚îÄ app.py
</code></pre>
<p>Now let's modify the <code>index.html</code> file by adding :</p>
<p>::: code-group
```html [index.html]
...
<head>
    ...
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
</head>
...</p>
<pre><code>:::

By running your app with 
```bash
flask run # 127.0.0.1:5000
</code></pre>
<p>you should see the icon next to your tab title.</p>
<h2>Jinja Template Engine</h2>
<p>In practice, the content of an HTML page usually depends on some python variables. Instead of manually creating the HTML page from scratch using Python, it is common to use a template engine such as <code>Jinja2</code> (see <a href="/python/web/jinja">Cheatsheet</a> ).</p>
<h3>Basis Usage</h3>
<p>::: code-group
```python [app.py]
from flask import Flask, render_template</p>
<p>app = Flask(<strong>name</strong>)</p>
<p>@app.route('/')
def index():
    message = "index.html"
    return render_template('index.html', message=message)</p>
<p>@app.route('/user/<int:id>')
def index_user(id):
    message = "user {}".format(id)
    return render_template('index.html', message=message)</p>
<pre><code>
```html [templates/index.html]
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;

&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Flask App&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;p&gt;Hello World from {{message}}&lt;/p&gt;
&lt;/body&gt;

&lt;/html&gt;
</code></pre>
<p>:::</p>
<p>Run your app with <code>flask run</code>, open a browser and type the URL <code>http://127.0.0.1:5000/user/1998</code>. You will see the message <code>Hello World from user 1998</code>.</p>
<h2>Form Management</h2>
<p>Web pages can contain forms that are processed at the server side. The classical scenario includes 5 steps : </p>
<ol>
<li>The user requests an HTML page using the GET method,</li>
<li>The server transmits the requested HTML page that contains an empty form,</li>
<li>The user completes the form and then clicks on a submit button,</li>
<li>The content of the form is then transmitted at the server side using the POST method,</li>
<li>The server replies by transmitting a new HTML page.</li>
</ol>
<p>In Flask, this process can be simplified using the <code>Flask-WTF</code> library. With Flask-WTF, you can easily create forms in Flask, define fields, and validate user inputs on the server-side before processing the data. It also includes support for rendering forms in templates using Jinja2, Flask's default template engine.</p>
<ul>
<li><a href="https://flask-wtf.readthedocs.io/en/1.0.x/">Documentation</a></li>
</ul>
<h3>Installation</h3>
<pre><code class="language-bash">pip install flask-wtf
</code></pre>
<h3>Basis Usage</h3>
<p>::: code-group
```python [app.py]
from flask import Flask, render_template
from forms import UserForm
import os</p>
<p>app = Flask(<strong>name</strong>)
app.config['SECRET_KEY'] = os.urandom(32)</p>
<p>@app.route('/', methods=('GET', 'POST'))
def index():
    form = UserForm()
    if form.validate_on_submit():
        username = "{} {}".format(form.firstname.data, form.lastname.data)
    else:
        username = "anonymous"</p>
<pre><code>return render_template('index.html', form=form, username=username)
</code></pre>
<pre><code>```python [forms.py]
from flask_wtf import FlaskForm
from wtforms import StringField, SubmitField
from wtforms.validators import DataRequired

class UserForm(FlaskForm):
    &quot;&quot;&quot;Contact form.&quot;&quot;&quot;
    firstname = StringField('Name', [DataRequired()])
    lastname = StringField('Email', [DataRequired()])
    submit = SubmitField('Submit')
</code></pre>
<p>```html [templates/index.html]</p>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flask App</title>
</head>

<body>
    <p>Hello {{username}}</p>

    <form method="POST" action="/">
    {{ form.csrf_token }}
    {{ form.firstname.label }} {{ form.firstname(size=20) }}
    {{ form.lastname.label }} {{ form.lastname(size=20) }}
    <input type="submit" value="Go">
    </form>
</body>

</html>

<pre><code>:::


## SQL Alchemy ORM

SQLAlchemy ORM (Object-Relational Mapping) is a Python library that provides a high-level interface for interacting with SQL databases. It allows developers to define database schema and relationships using Python classes and objects, which are then translated into SQL commands that can be executed against the database.

The ORM provides a set of tools for working with relational databases in a more object-oriented way, making it easier to manipulate data and work with complex relationships between tables. The key features of SQLAlchemy ORM include:

Declarative syntax for defining database schema and relationships using Python classes and objects.
Ability to work with multiple database engines, including SQLite, PostgreSQL, MySQL, and Oracle.
Automatic generation of SQL commands for common database operations such as inserts, updates, and deletes.
Support for lazy loading and caching of related data to improve performance.
Integration with popular Python web frameworks such as Flask and Django.

### Installation

Use the following command to install Flask-SQLAlchemy:

```bash
pip install -U Flask-SQLAlchemy
</code></pre>
    </div>
  </div>

  <!-- TOC -->
  

</div>

    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="content has-text-centered">
      <p>
        <strong>üî• Micro Wiki</strong>
        <br>
        <small>
          Wiki personnel ¬∑ Fait avec FastAPI , Jinja2 & Bulma CSS
        </small>
        <br>
        <small>
          Paul Walczak ¬∑ ¬© 2025-now
        </small>
      </p>

      <p>
        <a href="https://github.com/Polo-Wolo/micro_wiki" target=‚Äù_blank‚Äù>
          <svg height="24" width="24" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">
            <path d="M8 0C3.58 0 0 3.58 0 8c0 
        3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38
        0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94
        -.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53
        .63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66
        .07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95
        0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12
        0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27
        .68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82
        .44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15
        0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48
        0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38
        A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z" />
          </svg>
        </a>
      </p>
    </div>
  </footer>

</body>

</html>